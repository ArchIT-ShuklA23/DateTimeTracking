<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>IST 3D Clock</title>

<style>
:root{
 --bg:#05070f;
 --card:rgba(16,23,42,.75);
 --accent:#7dd3fc;
 --text:#e2e8f0;
 --ok:#4ade80;
}

/* ---- 3D BACKGROUND ---- */
canvas{
 position:fixed;
 top:0;left:0;
 width:100%;height:100%;
 z-index:-1;
 background:#030617;
}

body{
 margin:0;
 height:100vh;
 display:flex;
 align-items:center;
 justify-content:center;
 color:var(--text);
 font-family:system-ui;
}

.box{
 backdrop-filter:blur(12px);
 background:var(--card);
 border:1px solid #1f2937;
 width:470px;
 padding:22px;
 border-radius:18px;
 box-shadow:0 0 30px rgba(0,0,0,.6);
}

.h{text-align:center;opacity:.9}

.time{
 text-align:center;
 font-size:27px;
 margin:8px 0;
 cursor:pointer;
 animation:neon 1.2s infinite alternate;
}

@keyframes neon{
 from{text-shadow:0 0 6px var(--accent)}
 to{text-shadow:0 0 20px var(--accent)}
}

.date{text-align:center;opacity:.85}

.quote{
 margin-top:12px;
 padding:10px;
 font-size:14px;
 border-left:3px solid var(--accent);
 background:rgba(0,0,0,.25);
 min-height:54px;
}

.btn{
 margin-top:10px;
 width:100%;
 padding:9px;
 border:none;
 border-radius:8px;
 background:var(--accent);
 font-weight:600;
 cursor:pointer;
}

.msg{
 text-align:center;
 height:16px;
 font-size:13px;
 margin-top:6px;
 color:var(--ok);
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<div class="box">
 <div class="h">Indian Standard Time</div>

 <div id="time" class="time"></div>
 <div id="date" class="date"></div>

 <div id="quote" class="quote"></div>

 <button class="btn" onclick="copyTime()">
   Copy Date & Time
 </button>

 <div id="msg" class="msg"></div>
</div>

<script>
/* ========= 3D PARTICLE BACKGROUND ========= */
const c=document.getElementById("bg");
const x=c.getContext("2d");

function resize(){
 c.width=innerWidth;
 c.height=innerHeight;
}
resize();
window.onresize=resize;

const dots=[...Array(80)].map(()=>({
 x:Math.random()*c.width,
 y:Math.random()*c.height,
 z:Math.random()*2,
 s:Math.random()*1.5+0.5
}));

function draw(){
 x.clearRect(0,0,c.width,c.height);

 for(const d of dots){
   d.y+=d.s;
   if(d.y>c.height) d.y=0;

   const p=d.z*2;
   x.fillStyle="#60a5fa";
   x.fillRect(d.x,d.y,p,p);
 }

 requestAnimationFrame(draw);
}
draw();

/* ========= IST APP CORE ========= */

class App{

 constructor(){
  this.timeEl=time;
  this.dateEl=date;
  this.quoteEl=quote;
  this.msgEl=msg;

  this.quotes=[
   "Discipline beats motivation.",
   "Focus creates the future.",
   "Small steps win big wars.",
   "Consistency is a super power.",
   "One day or day one.",
   "You are closer than yesterday.",
   "Effort compounds daily."
  ];

  this.start();
  this.fixSleep();
  this.setQuote();
 }

 getIST(){
  return new Date(
   new Date().toLocaleString(
    "en-US",{timeZone:"Asia/Kolkata"})
  );
 }

 pad(n){return n.toString().padStart(2,"0");}

 ft(d){
  return this.pad(d.getHours())+":"+
         this.pad(d.getMinutes())+":"+
         this.pad(d.getSeconds())+" IST";
 }

 fd(d){
  return this.pad(d.getDate())+"-"+
         this.pad(d.getMonth()+1)+"-"+
         d.getFullYear();
 }

 render(){
  const d=this.getIST();
  this.timeEl.textContent=this.ft(d);
  this.dateEl.textContent=this.fd(d);
 }

 start(){
  this.render();
  this.t=setInterval(()=>this.render(),1000);
 }

 fixSleep(){
  document.addEventListener("visibilitychange",()=>{
   if(!document.hidden){
    clearInterval(this.t);
    this.start();
   }
  });
 }

 setQuote(){
  this.quoteEl.textContent=
   "â€œ"+this.quotes[
     Math.floor(Math.random()*this.quotes.length)
   ]+"â€";

  setInterval(()=>this.setQuote(),60000);
 }

 build(){
  const d=this.getIST();

  return `/*========================================
   ðŸ“…  Date : ${this.fd(d)}
   â±  Time : ${this.ft(d)}
========================================*/`;
 }

 async copy(){
  const t=this.build();

  try{
   await navigator.clipboard.writeText(t);
  }catch{
   const a=document.createElement("textarea");
   a.value=t;
   document.body.appendChild(a);
   a.select();
   document.execCommand("copy");
   a.remove();
  }

  this.flash("Copied âœ”");
 }

 flash(m){
  this.msgEl.textContent=m;
  setTimeout(()=>this.msgEl.textContent="",1200);
 }
}

const app=new App();
window.copyTime=()=>app.copy();

time.onclick=()=>app.copy();

document.addEventListener("keydown",e=>{
 if(e.ctrlKey && e.key.toLowerCase()==="c")
   app.copy();
});
</script>

</body>
</html>
